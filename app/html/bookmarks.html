<html>
  <head>
    <title>Bookmarks | Reminder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="manifest" href="/manifest.webmanifest">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap" rel="stylesheet">
    <style>
    html, body { height: 100%; width: 100%; margin: 0; padding: 0; font-family: "Nunito Sans", serif; }
    footer { padding-top: 50px; padding-bottom: 50px; }
    footer a { text-decoration: none; font-weight: bold; color: #333333 }
    a { color: #333333; }
    a:visited { color: #333333;}
    #head {
      position: fixed;
      background: white;
      top: 0;
      width: 100%
    }
    #head a { margin-right: 10px; color: black; font-weight: bold; text-decoration: none; }
    #container { height: 100%; max-width: 1024px; margin: 0 auto; padding: 25px;}
    #content { padding-bottom: 100px; }
    #content p { padding: 0 0 25px 0; margin: 0; }
    #desc { margin-bottom: 10px; }
    #title { margin-top: 50px; font-size: 1.2em; font-weight: bold; margin-bottom: 10px; }
    li { margin-bottom: 5px; }
    .bookmark-section { margin-bottom: 30px; }
    .bookmark-item {
      margin-bottom: 10px;
      border: 1px solid grey;
      border-radius: 5px;
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .bookmark-item a {
      text-decoration: none;
      flex-grow: 1;
    }
    .delete-btn {
      background: #dc3545;
      color: white;
      border: none;
      border-radius: 3px;
      padding: 5px 10px;
      cursor: pointer;
      font-size: 0.9em;
    }
    .delete-btn:hover {
      background: #c82333;
    }
    .empty-state {
      text-align: center;
      padding: 50px;
      color: #666;
    }
    @media only screen and (max-width: 600px) {
      #head a { margin-right: 5px; }
    }
    #brand {
      display: inline-block;
      padding: 20px;
    }
    #nav {
      float: right;
      padding: 20px;
    }
    </style>
  </head>
  <body>
    <div id="head">
      <div id="brand">
        <a href="/">Reminder</a>
      </div>
      <div id="nav">
        <a href="/home">Home</a>
      </div>
    </div>
    <div id="container">
      <div id="title">Bookmarks</div>
      <div id="desc">Your saved verses, hadiths, and names of Allah.</div>
      <div id="content">
        <div id="bookmarks-list">
          <div class="empty-state">No bookmarks yet. Start saving verses, hadiths, and names!</div>
        </div>
      </div>
    </div>
    <script src="/bookmarks.js"></script>
    <script>
      if (navigator.serviceWorker) {
        navigator.serviceWorker.register (
          '/reminder.js',
          {scope: '/'}
        )
      }

      // Load and display bookmarks when page loads
      document.addEventListener('DOMContentLoaded', function() {
        displayBookmarks();
      });

      function displayBookmarks() {
        const bookmarks = getBookmarks();
        const bookmarksList = document.getElementById('bookmarks-list');

        if (Object.keys(bookmarks.quran).length === 0 && 
            Object.keys(bookmarks.hadith).length === 0 && 
            Object.keys(bookmarks.names).length === 0) {
          bookmarksList.innerHTML = '<div class="empty-state">No bookmarks yet. Start saving verses, hadiths, and names!</div>';
          return;
        }

        let html = '';

        // Display Quran bookmarks
        if (Object.keys(bookmarks.quran).length > 0) {
          html += '<div class="bookmark-section">';
          html += '<h2>Quran</h2>';
          for (const [key, bookmark] of Object.entries(bookmarks.quran)) {
            html += `<div class="bookmark-item">
              <a href="${bookmark.url}">${bookmark.label}</a>
              <button class="delete-btn" onclick="removeBookmark('quran', '${key}')">Delete</button>
            </div>`;
          }
          html += '</div>';
        }

        // Display Hadith bookmarks
        if (Object.keys(bookmarks.hadith).length > 0) {
          html += '<div class="bookmark-section">';
          html += '<h2>Hadith</h2>';
          for (const [key, bookmark] of Object.entries(bookmarks.hadith)) {
            html += `<div class="bookmark-item">
              <a href="${bookmark.url}">${bookmark.label}</a>
              <button class="delete-btn" onclick="removeBookmark('hadith', '${key}')">Delete</button>
            </div>`;
          }
          html += '</div>';
        }

        // Display Names bookmarks
        if (Object.keys(bookmarks.names).length > 0) {
          html += '<div class="bookmark-section">';
          html += '<h2>Names of Allah</h2>';
          for (const [key, bookmark] of Object.entries(bookmarks.names)) {
            html += `<div class="bookmark-item">
              <a href="${bookmark.url}">${bookmark.label}</a>
              <button class="delete-btn" onclick="removeBookmark('names', '${key}')">Delete</button>
            </div>`;
          }
          html += '</div>';
        }

        bookmarksList.innerHTML = html;
      }

      function removeBookmark(type, key) {
        deleteBookmark(type, key);
        displayBookmarks();
      }
    </script>
  </body>
</html>
