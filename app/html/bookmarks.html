<html>
  <head>
    <title>Bookmarks | Reminder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="manifest" href="/manifest.webmanifest">
    <script src="https://unpkg.com/htmx.org@2.0.4"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
@font-face {
    font-family: 'arabic';
    src: url('/arabic.otf') format('opentype');
    font-weight: normal;
    font-style: normal;
}
.arabic {
  font-family: 'arabic';
  font-size: 1.5em;
}
.bookmarked::after {
  content: " â˜…";
  color: gold;
}
    </style>
  </head>
  <body class="min-h-screen flex flex-col bg-gray-50">
    <header class="bg-black text-white py-4 sticky top-0 z-50 shadow-md">
      <div class="max-w-6xl mx-auto px-4">
        <nav class="flex justify-center items-center space-x-6">
          <a href="/home" class="px-4 py-2 bg-white text-black rounded hover:bg-gray-100 transition-colors" hx-get="/home" hx-target="#main" hx-swap="innerHTML" hx-push-url="true">Home</a>
          <a href="/quran" class="px-4 py-2 bg-white text-black rounded hover:bg-gray-100 transition-colors" hx-get="/quran" hx-target="#main" hx-swap="innerHTML" hx-push-url="true">Quran</a>
          <a href="/hadith" class="px-4 py-2 bg-white text-black rounded hover:bg-gray-100 transition-colors" hx-get="/hadith" hx-target="#main" hx-swap="innerHTML" hx-push-url="true">Hadith</a>
          <a href="/names" class="px-4 py-2 bg-white text-black rounded hover:bg-gray-100 transition-colors" hx-get="/names" hx-target="#main" hx-swap="innerHTML" hx-push-url="true">Names</a>
          <a href="/bookmarks" class="px-4 py-2 bg-white text-black rounded hover:bg-gray-100 transition-colors">Bookmarks</a>
          <a href="/search" class="px-4 py-2 bg-white text-black rounded hover:bg-gray-100 transition-colors">Search</a>
          <a href="/daily" class="px-4 py-2 bg-white text-black rounded hover:bg-gray-100 transition-colors" hx-get="/daily" hx-target="#main" hx-swap="innerHTML" hx-push-url="true">Daily</a>
          <a href="/api" class="px-4 py-2 bg-white text-black rounded hover:bg-gray-100 transition-colors" hx-get="/api" hx-target="#main" hx-swap="innerHTML" hx-push-url="true">API</a>
        </nav>
      </div>
    </header>
    <main class="flex-grow max-w-6xl w-full mx-auto px-4 py-8">
      <h1 class="text-3xl font-bold mb-6">Bookmarks</h1>
      
      <div id="quran-bookmarks" class="mb-8">
        <h2 class="text-2xl font-semibold mb-4">Quran</h2>
        <div id="quran-list" class="space-y-3"></div>
      </div>
      
      <div id="hadith-bookmarks" class="mb-8">
        <h2 class="text-2xl font-semibold mb-4">Hadith</h2>
        <div id="hadith-list" class="space-y-3"></div>
      </div>
      
      <div id="names-bookmarks" class="mb-8">
        <h2 class="text-2xl font-semibold mb-4">Names</h2>
        <div id="names-list" class="space-y-3"></div>
      </div>
    </main>

    <script src="/bookmarks.js"></script>
    <script>
      function loadBookmarks() {
        const bookmarks = JSON.parse(localStorage.getItem('bookmarks') || '{"quran":[],"hadith":[],"names":[]}');
        
        // Quran bookmarks
        const quranList = document.getElementById('quran-list');
        if (bookmarks.quran && bookmarks.quran.length > 0) {
          quranList.innerHTML = bookmarks.quran.map(id => `
            <div class="flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:border-gray-400 transition-colors">
              <a href="/quran/${id}" class="flex-grow text-blue-600 hover:text-blue-800" hx-get="/quran/${id}" hx-target="#main" hx-swap="innerHTML" hx-push-url="true">Chapter ${id}</a>
              <button onclick="removeBookmark('quran', ${id})" class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors text-sm">Remove</button>
            </div>
          `).join('');
        } else {
          quranList.innerHTML = '<p class="text-gray-500">No bookmarks yet</p>';
        }
        
        // Hadith bookmarks
        const hadithList = document.getElementById('hadith-list');
        if (bookmarks.hadith && bookmarks.hadith.length > 0) {
          hadithList.innerHTML = bookmarks.hadith.map(id => `
            <div class="flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:border-gray-400 transition-colors">
              <a href="/hadith/${id}" class="flex-grow text-blue-600 hover:text-blue-800" hx-get="/hadith/${id}" hx-target="#main" hx-swap="innerHTML" hx-push-url="true">Book ${id}</a>
              <button onclick="removeBookmark('hadith', ${id})" class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors text-sm">Remove</button>
            </div>
          `).join('');
        } else {
          hadithList.innerHTML = '<p class="text-gray-500">No bookmarks yet</p>';
        }
        
        // Names bookmarks
        const namesList = document.getElementById('names-list');
        if (bookmarks.names && bookmarks.names.length > 0) {
          namesList.innerHTML = bookmarks.names.map(id => `
            <div class="flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:border-gray-400 transition-colors">
              <a href="/names/${id}" class="flex-grow text-blue-600 hover:text-blue-800" hx-get="/names/${id}" hx-target="#main" hx-swap="innerHTML" hx-push-url="true">Name ${id}</a>
              <button onclick="removeBookmark('names', ${id})" class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors text-sm">Remove</button>
            </div>
          `).join('');
        } else {
          namesList.innerHTML = '<p class="text-gray-500">No bookmarks yet</p>';
        }
      }
      
      function removeBookmark(type, id) {
        const bookmarks = JSON.parse(localStorage.getItem('bookmarks') || '{"quran":[],"hadith":[],"names":[]}');
        bookmarks[type] = bookmarks[type].filter(b => b !== id);
        localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
        loadBookmarks();
      }
      
      loadBookmarks();
    </script>
  </body>
</html>
